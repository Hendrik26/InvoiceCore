{
    customers {
        customerId
        customerSalesTaxNumber
        name
        billingAddress {
            addressLine1
            addressLine2
            addressLine3
            city
            countryCode
            postalCode
        }
    }
    invoices {
        customerId
        customerSalesTaxNumber
        invoiceDate
        invoiceNumber
        paymentReference
        lineItems {
            date
            quantity
            timeBased
            title
            price {
                amount
                currency
            }
        }
        mandate {
            customerIban
            mandateReference
        }
        period {
            endDate
            startDate
        }
    }
}

mutation m {
    Customer(id: "3aae0bc8-dcc8-47e7-bb33-ebb0ceb32361") {
        engageInBusiness(
            name: "Stiftefabrik Kuhl"
            billingAddress: {
                addressLine1: "Thomas Kuhl"
                addressLine2: "Markerstra√üe 23"
                city: "Eddingdorf"
                countryCode: "DE"
                postalCode: "32568"
            }
        )
        assignTaxIdentification(idNumber: "AB0123456789")
        relocate(
            billingAddress: {
                city: "London"
                countryCode: "UK"
                postalCode: "SE2 9AQ"
            }
        )
        rename(name: "Stiftfabrik Kuhl e. K.")
    }
}

mutation m {
    Invoice(id: "bf004842-95bc-4022-9872-5b0e78866383") {
        chargeCustomer(
            customerId: "3aae0bc8-dcc8-47e7-bb33-ebb0ceb32361"
            invoiceDate: "yesterday"
            invoiceNumber: "B01-43bc-b3a2"
        )
        appendLineItem(
            item: {
                date: "now"
                quantity: 1
                timeBased: false
                title: "some item"
                price: {
                    amount: 0
                    currency: ""
                }
            }
        )
        becomeInternational(
            countryCode: "UK"
            customerSalesTaxNumber: "AB0123456789"
        )
        becomeNational
        coverBillingPeriod(
            period: {
                startDate: { iso8601value: "2018-01-01" }
                endDate: { iso8601value: "2018-12-31" }
            }
        )
        dropBillingPeriod
        employSepaDirectDebit(
            mandate: {
                customerIban: "UK01 2345 6789 0123 4567 89"
                mandateReference: "c012/345"
            }
        )
        refrainFromSepaDirectDebit
        removeLineItemByPosition(position: 0)
        setInvoiceDate(
            invoiceDate: { iso8601value: "2018-12-31" }
        )
    }
}
